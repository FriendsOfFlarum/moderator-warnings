{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@fof/moderator-warnings/webpack/bootstrap","webpack://@fof/moderator-warnings/webpack/runtime/compat get default export","webpack://@fof/moderator-warnings/webpack/runtime/define property getters","webpack://@fof/moderator-warnings/webpack/runtime/hasOwnProperty shorthand","webpack://@fof/moderator-warnings/webpack/runtime/make namespace object","webpack://@fof/moderator-warnings/external root \"flarum.reg.get('core', 'forum/app')\"","webpack://@fof/moderator-warnings/external root \"flarum.reg.get('core', 'common/extend')\"","webpack://@fof/moderator-warnings/external root \"flarum.reg.get('core', 'forum/utils/PostControls')\"","webpack://@fof/moderator-warnings/external root \"flarum.reg.get('core', 'forum/utils/UserControls')\"","webpack://@fof/moderator-warnings/external root \"flarum.reg.get('core', 'common/components/Button')\"","webpack://@fof/moderator-warnings/external root \"flarum.reg.get('core', 'common/components/Form')\"","webpack://@fof/moderator-warnings/external root \"flarum.reg.get('core', 'common/components/FormModal')\"","webpack://@fof/moderator-warnings/external root \"flarum.reg.get('core', 'common/helpers/username')\"","webpack://@fof/moderator-warnings/external root \"flarum.reg.get('core', 'common/utils/Stream')\"","webpack://@fof/moderator-warnings/./src/forum/components/WarningModal.js","webpack://@fof/moderator-warnings/external root \"flarum.reg.get('core', 'forum/components/UserPage')\"","webpack://@fof/moderator-warnings/external root \"flarum.reg.get('core', 'common/components/LinkButton')\"","webpack://@fof/moderator-warnings/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://@fof/moderator-warnings/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://@fof/moderator-warnings/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://@fof/moderator-warnings/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://@fof/moderator-warnings/external root \"flarum.reg.get('core', 'common/Component')\"","webpack://@fof/moderator-warnings/external root \"flarum.reg.get('core', 'common/components/LoadingIndicator')\"","webpack://@fof/moderator-warnings/external root \"flarum.reg.get('core', 'common/components/Dropdown')\"","webpack://@fof/moderator-warnings/external root \"flarum.reg.get('core', 'common/components/Link')\"","webpack://@fof/moderator-warnings/external root \"flarum.reg.get('core', 'common/components/Avatar')\"","webpack://@fof/moderator-warnings/external root \"flarum.reg.get('core', 'common/helpers/humanTime')\"","webpack://@fof/moderator-warnings/external root \"flarum.reg.get('core', 'common/utils/classList')\"","webpack://@fof/moderator-warnings/external root \"flarum.reg.get('core', 'forum/components/PostPreview')\"","webpack://@fof/moderator-warnings/./src/forum/components/WarningPost.js","webpack://@fof/moderator-warnings/external root \"flarum.reg.get('core', 'common/components/Separator')\"","webpack://@fof/moderator-warnings/external root \"flarum.reg.get('core', 'common/utils/ItemList')\"","webpack://@fof/moderator-warnings/./src/forum/components/WarningControls.js","webpack://@fof/moderator-warnings/./src/forum/components/WarningListItem.js","webpack://@fof/moderator-warnings/external root \"flarum.reg.get('core', 'common/helpers/listItems')\"","webpack://@fof/moderator-warnings/./src/forum/components/WarningList.js","webpack://@fof/moderator-warnings/./src/forum/components/WarningPage.js","webpack://@fof/moderator-warnings/external root \"flarum.reg.get('core', 'common/Model')\"","webpack://@fof/moderator-warnings/external root \"flarum.reg.get('core', 'common/models/Post')\"","webpack://@fof/moderator-warnings/external root \"flarum.reg.get('core', 'forum/components/CommentPost')\"","webpack://@fof/moderator-warnings/external root \"flarum.reg.get('core', 'common/components/Icon')\"","webpack://@fof/moderator-warnings/./src/forum/components/WarningPreview.js","webpack://@fof/moderator-warnings/./src/forum/components/PostWarning.js","webpack://@fof/moderator-warnings/./src/forum/components/PostWarningList.js","webpack://@fof/moderator-warnings/external root \"flarum.reg.get('core', 'common/extenders')\"","webpack://@fof/moderator-warnings/external root \"flarum.reg.get('core', 'common/utils/computed')\"","webpack://@fof/moderator-warnings/./src/forum/model/Warning.ts","webpack://@fof/moderator-warnings/external root \"flarum.reg.get('core', 'common/models/User')\"","webpack://@fof/moderator-warnings/external root \"flarum.reg.get('core', 'forum/components/Notification')\"","webpack://@fof/moderator-warnings/./src/forum/components/WarningNotification.ts","webpack://@fof/moderator-warnings/./src/forum/extend.ts","webpack://@fof/moderator-warnings/./src/forum/index.ts","webpack://@fof/moderator-warnings/./src/forum/addWarningControl.js","webpack://@fof/moderator-warnings/./src/forum/addWarningPage.js","webpack://@fof/moderator-warnings/./src/forum/addWarningsToPosts.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/app');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/extend');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/utils/PostControls');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/utils/UserControls');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Button');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Form');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/FormModal');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/helpers/username');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/utils/Stream');","import Form from 'flarum/common/components/Form';\nimport FormModal from 'flarum/common/components/FormModal';\nimport Button from 'flarum/common/components/Button';\nimport username from 'flarum/common/helpers/username';\nimport Stream from 'flarum/common/utils/Stream';\nexport default class WarningModal extends FormModal {\n  oninit(vnode) {\n    super.oninit(vnode);\n    this.publicComment = Stream('');\n    this.privateComment = Stream('');\n    this.strikes = Stream(0);\n  }\n  className() {\n    return 'WarningsModal Modal--large';\n  }\n  title() {\n    return app.translator.trans('fof-moderator-warnings.forum.warning_modal.heading', {\n      username: username(this.attrs.user)\n    });\n  }\n  content() {\n    return m(\"div\", {\n      className: \"Modal-body\"\n    }, m(Form, {\n      className: \"Form--centered\"\n    }, m(\"div\", {\n      className: \"Form-group\"\n    }, m(\"div\", null, m(\"label\", null, app.translator.trans('fof-moderator-warnings.forum.warning_modal.strikes_heading'), m(\"input\", {\n      type: \"number\",\n      className: \"FormControl\",\n      bidi: this.strikes,\n      min: \"0\",\n      max: \"5\"\n    })))), m(\"div\", {\n      className: \"Form-group\"\n    }, m(\"div\", null, m(\"label\", null, app.translator.trans('fof-moderator-warnings.forum.warning_modal.public_comment_heading', {\n      username: username(this.attrs.user)\n    }), m(\"textarea\", {\n      className: \"FormControl\",\n      bidi: this.publicComment,\n      required: true,\n      rows: \"6\"\n    })))), m(\"div\", {\n      className: \"Form-group\"\n    }, m(\"div\", null, m(\"label\", null, app.translator.trans('fof-moderator-warnings.forum.warning_modal.private_comment_heading', {\n      username: username(this.attrs.user)\n    }), m(\"textarea\", {\n      className: \"FormControl\",\n      bidi: this.privateComment,\n      rows: \"6\"\n    })))), m(\"div\", {\n      className: \"Form-group\"\n    }, m(Button, {\n      className: \"Button Button--primary Button--block\",\n      type: \"submit\",\n      loading: this.loading\n    }, app.translator.trans('fof-moderator-warnings.forum.warning_modal.submit_button')))));\n  }\n  onsubmit(e) {\n    e.preventDefault();\n    app.alerts.dismiss(this.successAlert);\n    this.loading = true;\n    if (!this.strikes()) {\n      this.strikes(0);\n    }\n    const data = {\n      userId: this.attrs.user.id(),\n      strikes: this.strikes(),\n      publicComment: this.publicComment(),\n      privateComment: this.privateComment()\n    };\n    if (this.attrs.post) {\n      data.relationships = {\n        post: this.attrs.post\n      };\n    }\n    app.store.createRecord('warnings').save(data).then(this.hide.bind(this)).then(this.successAlert = app.alerts.show({\n      type: 'success'\n    }, app.translator.trans('fof-moderator-warnings.forum.warning_modal.confirmation_message'))).then(this.attrs.callback).catch(() => {});\n  }\n}\nflarum.reg.add('fof-moderator-warnings', 'forum/components/WarningModal', WarningModal);","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/components/UserPage');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/LinkButton');","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/Component');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/LoadingIndicator');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Dropdown');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Link');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Avatar');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/helpers/humanTime');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/utils/classList');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/components/PostPreview');","import Component from 'flarum/common/Component';\nimport PostPreview from 'flarum/forum/components/PostPreview';\nexport default class WarningPost extends Component {\n  view() {\n    return m(\"div\", {\n      className: \"WarningPost\"\n    }, m(\"ul\", {\n      class: \"Dropdown-menu PostPreview-preview fade in\"\n    }, m(\"li\", null, PostPreview.component({\n      post: this.attrs.post\n    }))));\n  }\n  oncreate(vnode) {\n    super.oncreate(vnode);\n    this.$('.PostPreview-preview').show().css('position', 'relative');\n  }\n}\nflarum.reg.add('fof-moderator-warnings', 'forum/components/WarningPost', WarningPost);","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Separator');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/utils/ItemList');","import Button from 'flarum/common/components/Button';\nimport Separator from 'flarum/common/components/Separator';\nimport ItemList from 'flarum/common/utils/ItemList';\n\n/**\n * The `WarningControls` utility constructs a list of buttons for a warning which\n * perform actions on it.\n */\nexport default {\n  /**\n   * Get a list of controls for a warning.\n   *\n   * @param {Warning} warning\n   * @param {*} context The parent component under which the controls menu will\n   *     be displayed.\n   * @return {ItemList}\n   * @public\n   */\n  controls(warning, context) {\n    const items = new ItemList();\n    ['user', 'moderation', 'destructive'].forEach(section => {\n      const controls = this[section + 'Controls'](warning, context).toArray();\n      if (controls.length) {\n        controls.forEach(item => items.add(item.itemName, item));\n        items.add(section + 'Separator', Separator.component());\n      }\n    });\n    return items;\n  },\n  /**\n   * Get controls for a warning pertaining to the current user (e.g. report).\n   *\n   * @param {Warning} warning\n   * @param {*} context The parent component under which the controls menu will\n   *     be displayed.\n   * @return {ItemList}\n   * @protected\n   */\n  userControls(warning, context) {\n    return new ItemList();\n  },\n  /**\n   * Get controls for a warning pertaining to moderation (e.g. edit).\n   *\n   * @param {Warning} warning\n   * @param {*} context The parent component under which the controls menu will\n   *     be displayed.\n   * @return {ItemList}\n   * @protected\n   */\n  moderationControls(warning, context) {\n    return new ItemList();\n  },\n  /**\n   * Get controls for a warning that are destructive (e.g. delete).\n   *\n   * @param {Warning} warning\n   * @param {*} context The parent component under which the controls menu will\n   *     be displayed.\n   * @return {ItemList}\n   * @protected\n   */\n  destructiveControls(warning, context) {\n    const items = new ItemList();\n    if (!warning.isHidden() && app.session.user.canManageWarnings()) {\n      items.add('hide', m(Button, {\n        icon: \"far fa-trash-alt\",\n        onclick: this.hideAction.bind(warning)\n      }, app.translator.trans('fof-moderator-warnings.forum.warning_controls.delete_button')));\n    }\n    if (warning.isHidden() && app.session.user.canManageWarnings()) {\n      items.add('restore', m(Button, {\n        icon: \"fas fa-reply\",\n        onclick: this.restoreAction.bind(warning)\n      }, app.translator.trans('fof-moderator-warnings.forum.warning_controls.restore_button')));\n    }\n    if (warning.isHidden() && app.session.user.canDeleteWarnings()) {\n      items.add('delete', m(Button, {\n        icon: \"fas fa-times\",\n        onclick: this.deleteAction.bind(warning)\n      }, app.translator.trans('fof-moderator-warnings.forum.warning_controls.delete_forever_button')));\n    }\n    return items;\n  },\n  /**\n   * Hide a warning.\n   *\n   * @return {Promise}\n   */\n  hideAction() {\n    this.pushAttributes({\n      hiddenAt: new Date(),\n      hiddenUser: app.session.user\n    });\n    return this.save({\n      isHidden: true\n    }).then(() => m.redraw());\n  },\n  /**\n   * Restore a warning.\n   *\n   * @return {Promise}\n   */\n  restoreAction() {\n    this.pushAttributes({\n      hiddenAt: null,\n      hiddenUser: null\n    });\n    return this.save({\n      isHidden: false\n    }).then(() => m.redraw());\n  },\n  /**\n   * Delete a warning.\n   *\n   * @return {Promise}\n   */\n  deleteAction(context) {\n    if (context) context.loading = true;\n    return this.delete().then(() => {}).catch(() => {}).then(() => {\n      if (context) context.loading = false;\n      location.reload();\n    });\n  }\n};","import Component from 'flarum/common/Component';\nimport Dropdown from 'flarum/common/components/Dropdown';\nimport Link from 'flarum/common/components/Link';\nimport Avatar from 'flarum/common/components/Avatar';\nimport username from 'flarum/common/helpers/username';\nimport humanTime from 'flarum/common/helpers/humanTime';\nimport classList from 'flarum/common/utils/classList';\nimport WarningPost from './WarningPost';\nimport WarningControls from './WarningControls';\nexport default class WarningListItem extends Component {\n  view() {\n    const {\n      warning\n    } = this.attrs;\n    const addedByUser = warning.addedByUser();\n    const controls = WarningControls.controls(warning, this).toArray();\n    return m(\"div\", this.elementAttrs(), controls.length ? Dropdown.component({\n      icon: 'fas fa-ellipsis-v',\n      className: 'WarningListItem-controls',\n      buttonClassName: 'Button Button--icon Button--flat Slidable-underneath Slidable-underneath--right'\n    }, controls) : '', m(\"div\", {\n      className: \"WarningListItem-main\"\n    }, m(\"h3\", {\n      className: \"WarningListItem-title\"\n    }, m(Link, {\n      href: addedByUser ? app.route.user(addedByUser) : '#',\n      className: \"WarningListItem-author\"\n    }, m(Avatar, {\n      user: addedByUser\n    }), \" \", username(addedByUser))), m(\"span\", {\n      class: \"WarningListItem-strikes\"\n    }, warning.isHidden() ? app.translator.trans('fof-moderator-warnings.forum.warning_list_item.list_item_heading_hidden', {\n      time: humanTime(warning.createdAt()),\n      strikes: warning.strikes() || 0\n    }) : app.translator.trans('fof-moderator-warnings.forum.warning_list_item.list_item_heading', {\n      time: humanTime(warning.createdAt()),\n      strikes: warning.strikes() || 0\n    })), m(\"hr\", null), m(\"ul\", {\n      className: \"WarningListItem-info\"\n    }, warning.post() ? m(\"li\", {\n      className: \"item-excerpt\"\n    }, m(\"h3\", {\n      className: \"WarningListItem-subtitle\"\n    }, app.translator.trans('fof-moderator-warnings.forum.warning_list_item.linked_post')), WarningPost.component({\n      post: warning.post()\n    })) : '', m(\"li\", {\n      className: \"item-excerpt\"\n    }, m(\"h3\", {\n      className: \"WarningListItem-subtitle\"\n    }, app.translator.trans('fof-moderator-warnings.forum.warning_list_item.public_comment')), m(\"p\", {\n      class: \"WarningListItem-comment\"\n    }, m.trust(warning.publicComment()))), app.session.user.canManageWarnings() && warning.privateComment() ? m(\"li\", {\n      className: \"item-excerpt\"\n    }, m(\"h3\", {\n      className: \"WarningListItem-subtitle\"\n    }, app.translator.trans('fof-moderator-warnings.forum.warning_list_item.private_comment')), m(\"p\", {\n      class: \"WarningListItem-comment\"\n    }, m.trust(warning.privateComment()))) : '')));\n  }\n  elementAttrs() {\n    const {\n      warning\n    } = this.attrs;\n    const attrs = {};\n    attrs.className = (attrs.className || '') + ' ' + classList({\n      WarningListItem: true,\n      'WarningListItem--hidden': warning.isHidden()\n    });\n    return attrs;\n  }\n}\nflarum.reg.add('fof-moderator-warnings', 'forum/components/WarningListItem', WarningListItem);","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/helpers/listItems');","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport Component from 'flarum/common/Component';\nimport app from 'flarum/forum/app';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport WarningListItem from './WarningListItem';\nimport Button from 'flarum/common/components/Button';\nimport WarningModal from './WarningModal';\nimport listItems from 'flarum/common/helpers/listItems';\nimport ItemList from 'flarum/common/utils/ItemList';\nexport default class WarningList extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n    this.loading = true;\n    this.warnings = [];\n    this.user = this.attrs.params.user;\n    this.refresh();\n  }\n  view() {\n    let loading;\n    if (this.loading) {\n      loading = LoadingIndicator.component({\n        size: 'large'\n      });\n    }\n    return m(\"div\", {\n      className: \"WarningList\"\n    }, m(\"h1\", {\n      className: \"WarningList-warnings\"\n    }, this.strikeCount() ? app.translator.trans('fof-moderator-warnings.forum.warning_list.warnings', {\n      strikes: this.strikeCount() || 0\n    }) : app.translator.trans('fof-moderator-warnings.forum.warning_list.warnings_no_strikes')), m(\"div\", {\n      class: \"Warnings-toolbar\"\n    }, m(\"ul\", {\n      className: \"Warnings-toolbar-action\"\n    }, listItems(this.actionItems().toArray()))), m(\"ul\", {\n      className: \"WarningList-Warnings\"\n    }, this.warnings.map(warning => {\n      return m(\"li\", {\n        key: warning.id(),\n        \"data-id\": warning.id()\n      }, WarningListItem.component({\n        warning\n      }));\n    }), !this.loading && this.warnings.length === 0 && m(\"label\", null, app.translator.trans('fof-moderator-warnings.forum.warning_list.no_warnings'))), m(\"div\", {\n      className: \"WarningList-loadMore\"\n    }, loading));\n  }\n  actionItems() {\n    const items = new ItemList();\n    if (app.session.user.canManageWarnings()) {\n      items.add('create_warning', m(Button, {\n        className: \"Button Button--primary\",\n        onclick: this.handleOnClickCreate.bind(this)\n      }, app.translator.trans('fof-moderator-warnings.forum.warning_list.add_button')));\n    }\n    return items;\n  }\n  strikeCount() {\n    return this.warnings.filter(warning => !warning.isHidden()).map(warning => warning.strikes()).reduce((a, b) => a + b, 0);\n  }\n  parseResults(results) {\n    [].push.apply(this.warnings, results);\n    this.loading = false;\n    m.redraw();\n    return results;\n  }\n  refresh() {\n    return app.store.find('warnings', {\n      filter: {\n        userId: this.user.id()\n      }\n    }).catch(() => {}).then(results => {\n      this.warnings = [];\n      this.parseResults(results);\n    });\n  }\n  handleOnClickCreate(e) {\n    e.preventDefault();\n    app.modal.show(WarningModal, _objectSpread({\n      callback: this.refresh.bind(this)\n    }, this.attrs.params));\n  }\n}\nflarum.reg.add('fof-moderator-warnings', 'forum/components/WarningList', WarningList);","import UserPage from 'flarum/forum/components/UserPage';\nimport WarningList from './WarningList';\nexport default class WarningPage extends UserPage {\n  oninit(vnode) {\n    super.oninit(vnode);\n    this.loadUser(m.route.param('username'));\n  }\n  content() {\n    if (app.session.user && (app.session.user.canViewWarnings() || this.user.id() === app.session.user.id() && this.user.visibleWarningCount() > 0)) {\n      return m(\"div\", {\n        className: \"WarningsUserPage\"\n      }, WarningList.component({\n        params: {\n          user: this.user,\n          sort: 'newest'\n        }\n      }));\n    }\n  }\n}\nflarum.reg.add('fof-moderator-warnings', 'forum/components/WarningPage', WarningPage);","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/Model');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/models/Post');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/components/CommentPost');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Icon');","import Component from 'flarum/common/Component';\nimport Link from 'flarum/common/components/Link';\nimport WarningListItem from './WarningListItem';\nexport default class WarningPreview extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n    this.warning = this.attrs.warning;\n  }\n  view() {\n    return m(Link, {\n      className: \"WarningPreview\",\n      href: app.route('user.warnings', {\n        username: this.warning.warnedUser().username()\n      })\n    }, m(WarningListItem, {\n      warning: this.warning\n    }));\n  }\n}\nflarum.reg.add('fof-moderator-warnings', 'forum/components/WarningPreview', WarningPreview);","import Component from 'flarum/common/Component';\nimport Icon from 'flarum/common/components/Icon';\nimport username from 'flarum/common/helpers/username';\nimport WarningPreview from './WarningPreview';\nexport default class PostWarning extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n    this.warning = this.attrs.warning;\n  }\n  view() {\n    return m(\"div\", {\n      className: \"Post-warning\"\n    }, m(\"span\", {\n      className: \"Post-warning-summary\"\n    }, m(Icon, {\n      name: \"fas fa-exclamation-circle\"\n    }), this.warning.strikes() ? app.translator.trans('fof-moderator-warnings.forum.post.warning', {\n      strikes: this.warning.strikes() || 0,\n      mod_username: username(this.warning.addedByUser())\n    }) : app.translator.trans('fof-moderator-warnings.forum.post.warning_no_strikes', {\n      mod_username: username(this.warning.addedByUser())\n    })));\n  }\n  oncreate(vnode) {\n    super.oncreate(vnode);\n    const warning = this.warning;\n    let timeout;\n    const hidePreview = () => {\n      this.$('.Post-warning-preview').removeClass('in').one('transitionend', function () {\n        $(this).hide();\n      });\n    };\n    const $preview = $('<ul class=\"Dropdown-menu Post-warning-preview fade\"/>');\n    this.$().append($preview);\n    this.$().children().hover(function () {\n      clearTimeout(timeout);\n      timeout = setTimeout(function () {\n        if (!$preview.hasClass('in') && $preview.is(':visible')) return;\n\n        // When the user hovers their mouse over the list of people who have\n        // replied to the post, render a list of reply previews into a\n        // popup.\n        m.render($preview[0], m(\"li\", {\n          \"data-id\": warning.id()\n        }, WarningPreview.component({\n          warning\n        })));\n        $preview.show();\n        setTimeout(() => $preview.off('transitionend').addClass('in'));\n      }, 200);\n    }, function () {\n      clearTimeout(timeout);\n      timeout = setTimeout(hidePreview, 250);\n    });\n\n    // Whenever the user hovers their mouse over a particular name in the\n    // list of repliers, highlight the corresponding post in the preview\n    // popup.\n    $('.Post-warning').find('.Post-warning-summary a').hover(function () {\n      $('.Post-warning').find('[data-number=\"' + $(this).data('number') + '\"]').addClass('active');\n    }, function () {\n      $('.Post-warning').find('[data-number]').removeClass('active');\n    });\n  }\n}\nflarum.reg.add('fof-moderator-warnings', 'forum/components/PostWarning', PostWarning);","import Component from 'flarum/common/Component';\nimport PostWarning from './PostWarning';\nimport WarningPreview from './WarningPreview';\nexport default class PostWarningList extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n    this.post = this.attrs.post;\n  }\n  view() {\n    return m(\"div\", {\n      className: \"Post-warning-list\"\n    }, this.attrs.post.warnings().map(warning => {\n      return PostWarning.component({\n        warning\n      });\n    }));\n  }\n}\nflarum.reg.add('fof-moderator-warnings', 'forum/components/PostWarningList', PostWarningList);","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/extenders');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/utils/computed');","import Model from 'flarum/common/Model';\nimport computed from 'flarum/common/utils/computed';\nexport default class Warning extends Model {\n  publicComment() {\n    return Model.attribute('publicComment').call(this);\n  }\n  privateComment() {\n    return Model.attribute('privateComment').call(this);\n  }\n  strikes() {\n    return Model.attribute('strikes').call(this);\n  }\n  createdAt() {\n    return Model.attribute('createdAt', Model.transformDate).call(this);\n  }\n  hiddenAt() {\n    return Model.attribute('hiddenAt', Model.transformDate).call(this);\n  }\n  isHidden() {\n    return computed('hiddenAt', hiddenAt => !!hiddenAt).call(this);\n  }\n  warnedUser() {\n    return Model.hasOne('warnedUser').call(this);\n  }\n  hiddenByUser() {\n    return Model.hasOne('hiddenByUser').call(this);\n  }\n  addedByUser() {\n    return Model.hasOne('addedByUser').call(this);\n  }\n  post() {\n    return Model.hasOne('post').call(this);\n  }\n}\nflarum.reg.add('fof-moderator-warnings', 'forum/model/Warning', Warning);","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/models/User');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/components/Notification');","import app from 'flarum/forum/app';\nimport Notification from 'flarum/forum/components/Notification';\nimport username from 'flarum/common/helpers/username';\n/**\n * The `WarningNotification` component displays a notification which\n * indicates that a user has been warned by a moderator.\n */\nexport default class WarningNotification extends Notification {\n  icon() {\n    return 'fas fa-exclamation-circle';\n  }\n  href() {\n    const user = app.session.user;\n    if (!user) {\n      return '#';\n    }\n    return app.route('user.warnings', {\n      username: user.username()\n    });\n  }\n  content() {\n    const notification = this.attrs.notification;\n    const warning = notification.subject();\n    const fromUser = notification.fromUser();\n    if (warning.strikes()) {\n      return app.translator.trans('fof-moderator-warnings.forum.notifications.warning_text', {\n        mod_username: username(fromUser),\n        strikes: warning.strikes() || 0\n      });\n    } else {\n      return app.translator.trans('fof-moderator-warnings.forum.notifications.warning_no_strikes_text', {\n        mod_username: username(fromUser)\n      });\n    }\n  }\n  excerpt() {\n    return null;\n  }\n}\nflarum.reg.add('fof-moderator-warnings', 'forum/components/WarningNotification', WarningNotification);","import Extend from 'flarum/common/extenders';\nimport Warning from './model/Warning';\nimport User from 'flarum/common/models/User';\nimport WarningNotification from './components/WarningNotification';\nexport default [new Extend.Store() //\n.add('warnings', Warning), new Extend.Model(User) //\n.attribute('canViewWarnings').attribute('canManageWarnings').attribute('canDeleteWarnings').attribute('visibleWarningCount'), new Extend.Notification() //\n.add('warning', WarningNotification)];","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport addWarningControl from './addWarningControl';\nimport addWarningPage from './addWarningPage';\nimport addWarningsToPosts from './addWarningsToPosts';\nexport { default as extend } from './extend';\napp.initializers.add('fof-moderator-warnings', () => {\n  addWarningControl();\n  addWarningPage();\n  addWarningsToPosts();\n  extend('flarum/forum/components/NotificationGrid', 'notificationTypes', function (items) {\n    items.add('warning', {\n      name: 'warning',\n      icon: 'fas fa-exclamation-circle',\n      label: app.translator.trans('fof-moderator-warnings.forum.settings.warning_notification_label')\n    });\n  });\n});","import { extend } from 'flarum/common/extend';\nimport app from 'flarum/forum/app';\nimport PostControls from 'flarum/forum/utils/PostControls';\nimport UserControls from 'flarum/forum/utils/UserControls';\nimport Button from 'flarum/common/components/Button';\nimport WarningModal from './components/WarningModal';\nexport default function () {\n  extend(PostControls, 'moderationControls', function (items, post) {\n    if (!app.session.user || !app.session.user.canManageWarnings()) return;\n    items.add('warning', m(Button, {\n      icon: \"fas fa-exclamation-circle\",\n      onclick: () => app.modal.show(WarningModal, {\n        callback: () => {\n          location.reload();\n        },\n        user: post.user(),\n        post: post\n      })\n    }, app.translator.trans('fof-moderator-warnings.forum.post_controls.warning_button')));\n  });\n  extend(UserControls, 'moderationControls', function (items, user) {\n    if (!app.session.user || !app.session.user.canManageWarnings()) return;\n    items.add('warning', m(Button, {\n      icon: \"fas fa-exclamation-circle\",\n      onclick: () => app.modal.show(WarningModal, {\n        callback: () => {\n          location.reload();\n        },\n        user: user\n      })\n    }, app.translator.trans('fof-moderator-warnings.forum.post_controls.warning_button')));\n  });\n}","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport UserPage from 'flarum/forum/components/UserPage';\nimport LinkButton from 'flarum/common/components/LinkButton';\nimport WarningPage from './components/WarningPage';\nexport default function () {\n  app.routes['user.warnings'] = {\n    path: '/u/:username/warnings',\n    component: WarningPage\n  };\n  extend(UserPage.prototype, 'navItems', function (items) {\n    if (app.session.user && (app.session.user.canViewWarnings() || this.user.id() === app.session.user.id() && this.user.visibleWarningCount() > 0)) {\n      items.add('warnings', LinkButton.component({\n        href: app.route('user.warnings', {\n          username: this.user.slug()\n        }),\n        icon: 'fas fa-exclamation-circle'\n      }, [app.translator.trans('fof-moderator-warnings.forum.user.warnings'), this.user.visibleWarningCount() > 0 ? m(\"span\", {\n        className: \"Button-badge\"\n      }, this.user.visibleWarningCount()) : '']), 10);\n    }\n  });\n}","import { extend } from 'flarum/common/extend';\nimport Model from 'flarum/common/Model';\nimport Post from 'flarum/common/models/Post';\nimport CommentPost from 'flarum/forum/components/CommentPost';\nimport PostWarningList from './components/PostWarningList';\nexport default function addWarningsToPosts() {\n  Post.prototype.warnings = Model.hasMany('warnings');\n  extend(CommentPost.prototype, 'footerItems', function (items) {\n    const post = this.attrs.post;\n    const warnings = post.warnings();\n    if (!warnings) return;\n    items.add(\"warnings\", PostWarningList.component({\n      post: post\n    }));\n  });\n}"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","flarum","reg","WarningModal","oninit","vnode","super","this","publicComment","privateComment","strikes","className","title","app","translator","trans","username","attrs","user","content","m","type","bidi","min","max","required","rows","loading","onsubmit","e","preventDefault","alerts","dismiss","successAlert","data","userId","id","post","relationships","store","createRecord","save","then","hide","bind","show","callback","catch","add","_typeof","iterator","constructor","_defineProperty","r","t","i","toPrimitive","TypeError","String","toPropertyKey","configurable","writable","WarningPost","view","class","oncreate","$","css","controls","warning","context","items","forEach","section","toArray","length","item","itemName","userControls","moderationControls","destructiveControls","isHidden","session","canManageWarnings","icon","onclick","hideAction","restoreAction","canDeleteWarnings","deleteAction","pushAttributes","hiddenAt","Date","hiddenUser","redraw","delete","location","reload","WarningListItem","addedByUser","WarningControls","elementAttrs","buttonClassName","href","route","time","createdAt","component","trust","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","push","apply","WarningList","warnings","params","refresh","size","strikeCount","actionItems","map","handleOnClickCreate","reduce","b","parseResults","results","find","arguments","getOwnPropertyDescriptors","defineProperties","_objectSpread","WarningPage","loadUser","param","canViewWarnings","visibleWarningCount","sort","WarningPreview","warnedUser","PostWarning","name","mod_username","timeout","hidePreview","removeClass","one","$preview","append","children","hover","clearTimeout","setTimeout","hasClass","is","render","off","addClass","PostWarningList","Warning","hiddenByUser","WarningNotification","notification","subject","fromUser","excerpt","attribute","extend","path","slug","label"],"ignoreList":[],"sourceRoot":""}